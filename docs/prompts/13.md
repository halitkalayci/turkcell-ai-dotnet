User: Docker üzerinde çalışan keycloak sürekli CrashLoopBackoff oluyor.

<container-output>
2026-01-29 11:26:20 Updating the configuration and installing your custom providers, if any. Please wait.
2026-01-29 11:26:23 2026-01-29 08:26:23,593 WARN  [io.qua.dep.ind.IndexWrapper] (build-33) Failed to index jakarta.jms.Connection: Class does not exist in ClassLoader QuarkusClassLoader:Deployment Class Loader: PROD for keycloak@1e8823d2
2026-01-29 11:26:23 2026-01-29 08:26:23,596 WARN  [io.qua.dep.ind.IndexWrapper] (build-33) Failed to index jakarta.jms.XAConnection: Class does not exist in ClassLoader QuarkusClassLoader:Deployment Class Loader: PROD for keycloak@1e8823d2
2026-01-29 11:26:23 2026-01-29 08:26:23,597 WARN  [io.qua.dep.ind.IndexWrapper] (build-33) Failed to index jakarta.jms.XASession: Class does not exist in ClassLoader QuarkusClassLoader:Deployment Class Loader: PROD for keycloak@1e8823d2
2026-01-29 11:26:23 2026-01-29 08:26:23,598 WARN  [io.qua.dep.ind.IndexWrapper] (build-33) Failed to index jakarta.jms.XAConnectionFactory: Class does not exist in ClassLoader QuarkusClassLoader:Deployment Class Loader: PROD for keycloak@1e8823d2
2026-01-29 11:26:23 2026-01-29 08:26:23,605 WARN  [io.qua.dep.ind.IndexWrapper] (build-33) Failed to index org.apache.activemq.artemis.core.journal.RecordInfo: Class does not exist in ClassLoader QuarkusClassLoader:Deployment Class Loader: PROD for keycloak@1e8823d2
2026-01-29 11:26:23 2026-01-29 08:26:23,605 WARN  [io.qua.dep.ind.IndexWrapper] (build-33) Failed to index org.apache.activemq.artemis.core.journal.Journal: Class does not exist in ClassLoader QuarkusClassLoader:Deployment Class Loader: PROD for keycloak@1e8823d2
2026-01-29 11:26:23 2026-01-29 08:26:23,606 WARN  [io.qua.dep.ind.IndexWrapper] (build-33) Failed to index io.mashona.logwriting.ArrayStore: Class does not exist in ClassLoader QuarkusClassLoader:Deployment Class Loader: PROD for keycloak@1e8823d2
2026-01-29 11:26:23 2026-01-29 08:26:23,630 WARN  [io.qua.dep.ind.IndexWrapper] (build-33) Failed to index org.apache.tools.ant.Task: Class does not exist in ClassLoader QuarkusClassLoader:Deployment Class Loader: PROD for keycloak@1e8823d2
2026-01-29 11:26:23 2026-01-29 08:26:23,645 WARN  [io.qua.dep.ind.IndexWrapper] (build-33) Failed to index org.springframework.core.io.Resource: Class does not exist in ClassLoader QuarkusClassLoader:Deployment Class Loader: PROD for keycloak@1e8823d2
2026-01-29 11:26:23 2026-01-29 08:26:23,646 WARN  [io.qua.dep.ind.IndexWrapper] (build-33) Failed to index org.springframework.core.io.DefaultResourceLoader: Class does not exist in ClassLoader QuarkusClassLoader:Deployment Class Loader: PROD for keycloak@1e8823d2
2026-01-29 11:26:23 2026-01-29 08:26:23,647 WARN  [io.qua.dep.ind.IndexWrapper] (build-33) Failed to index org.springframework.core.io.ResourceLoader: Class does not exist in ClassLoader QuarkusClassLoader:Deployment Class Loader: PROD for keycloak@1e8823d2
2026-01-29 11:26:26 2026-01-29 08:26:26,093 INFO  [io.qua.dep.QuarkusAugmentor] (main) Quarkus augmentation completed in 4672ms
2026-01-29 11:26:27 2026-01-29 08:26:27,130 INFO  [org.keycloak.quarkus.runtime.hostname.DefaultHostnameProvider] (main) Hostname settings: Base URL: <unset>, Hostname: <request>, Strict HTTPS: false, Path: <request>, Strict BackChannel: false, Admin URL: <unset>, Admin: <request>, Port: -1, Proxied: false
2026-01-29 11:26:28 2026-01-29 08:26:28,048 WARN  [io.quarkus.agroal.runtime.DataSources] (JPA Startup Thread) Datasource <default> enables XA but transaction recovery is not enabled. Please enable transaction recovery by setting quarkus.transaction-manager.enable-recovery=true, otherwise data may be lost if the application is terminated abruptly
2026-01-29 11:26:28 2026-01-29 08:26:28,360 WARN  [org.infinispan.CONFIG] (keycloak-cache-init) ISPN000569: Unable to persist Infinispan internal caches as no global state enabled
2026-01-29 11:26:28 2026-01-29 08:26:28,425 INFO  [org.infinispan.CONTAINER] (keycloak-cache-init) ISPN000556: Starting user marshaller 'org.infinispan.jboss.marshalling.core.JBossUserMarshaller'
2026-01-29 11:26:28 2026-01-29 08:26:28,874 INFO  [org.keycloak.connections.infinispan.DefaultInfinispanConnectionProviderFactory] (main) Node name: node_865021, Site name: null
2026-01-29 11:26:29 2026-01-29 08:26:29,694 INFO  [org.keycloak.quarkus.runtime.storage.legacy.liquibase.QuarkusJpaUpdaterProvider] (main) Initializing database schema. Using changelog META-INF/jpa-changelog-master.xml
2026-01-29 11:26:31 
2026-01-29 11:26:31 UPDATE SUMMARY
2026-01-29 11:26:31 Run:                        124
2026-01-29 11:26:31 Previously run:               0
2026-01-29 11:26:31 Filtered out:                 0
2026-01-29 11:26:31 -------------------------------
2026-01-29 11:26:31 Total change sets:          124
2026-01-29 11:26:31 
2026-01-29 11:26:31 2026-01-29 08:26:31,339 INFO  [org.keycloak.broker.provider.AbstractIdentityProviderMapper] (main) Registering class org.keycloak.broker.provider.mappersync.ConfigSyncEventListener
2026-01-29 11:26:31 2026-01-29 08:26:31,376 INFO  [org.keycloak.services] (main) KC-SERVICES0050: Initializing master realm
2026-01-29 11:26:32 2026-01-29 08:26:32,324 INFO  [org.keycloak.exportimport.singlefile.SingleFileImportProvider] (main) Full importing from file /opt/keycloak/bin/../data/import/clients.json
2026-01-29 11:26:32 2026-01-29 08:26:32,466 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) ERROR: Failed to start server in (development) mode
2026-01-29 11:26:32 2026-01-29 08:26:32,466 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) ERROR: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "type" (class org.keycloak.representations.idm.ClientRepresentation), not marked as ignorable (43 known properties: "enabled", "clientAuthenticatorType", "redirectUris", "clientId", "authenticationFlowBindingOverrides", "authorizationServicesEnabled", "name", "implicitFlowEnabled", "registeredNodes", "nodeReRegistrationTimeout", "publicClient", "attributes", "protocol", "webOrigins", "protocolMappers", "id", "baseUrl", "surrogateAuthRequired", "adminUrl", "fullScopeAllowed", "frontchannelLogout", "clientTemplate", "origin", "defaultClientScopes", "directGrantsOnly", "rootUrl", "secret", "useTemplateMappers", "notBefore", "useTemplateScope", "standardFlowEnabled", "description", "directAccessGrantsEnabled", "alwaysDisplayInConsole", "useTemplateConfig", "serviceAccountsEnabled", "optionalClientScopes", "consentRequired", "access", "bearerOnly", "registrationAccessToken", "defaultRoles", "authorizationSettings"])
2026-01-29 11:26:32  at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 5, column: 16] (through reference chain: org.keycloak.representations.idm.RealmRepresentation["clients"]->java.util.ArrayList[0]->org.keycloak.representations.idm.ClientRepresentation["type"])
2026-01-29 11:26:32 2026-01-29 08:26:32,466 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) ERROR: Unrecognized field "type" (class org.keycloak.representations.idm.ClientRepresentation), not marked as ignorable (43 known properties: "enabled", "clientAuthenticatorType", "redirectUris", "clientId", "authenticationFlowBindingOverrides", "authorizationServicesEnabled", "name", "implicitFlowEnabled", "registeredNodes", "nodeReRegistrationTimeout", "publicClient", "attributes", "protocol", "webOrigins", "protocolMappers", "id", "baseUrl", "surrogateAuthRequired", "adminUrl", "fullScopeAllowed", "frontchannelLogout", "clientTemplate", "origin", "defaultClientScopes", "directGrantsOnly", "rootUrl", "secret", "useTemplateMappers", "notBefore", "useTemplateScope", "standardFlowEnabled", "description", "directAccessGrantsEnabled", "alwaysDisplayInConsole", "useTemplateConfig", "serviceAccountsEnabled", "optionalClientScopes", "consentRequired", "access", "bearerOnly", "registrationAccessToken", "defaultRoles", "authorizationSettings"])
2026-01-29 11:26:32  at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 5, column: 16] (through reference chain: org.keycloak.representations.idm.RealmRepresentation["clients"]->java.util.ArrayList[0]->org.keycloak.representations.idm.ClientRepresentation["type"])
2026-01-29 11:26:32 2026-01-29 08:26:32,467 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) For more details run the same command passing the '--verbose' option. Also you can use '--help' to see the details about the usage of the particular command.
2026-01-29 11:26:35 2026-01-29 08:26:34,759 INFO  [org.keycloak.quarkus.runtime.hostname.DefaultHostnameProvider] (main) Hostname settings: Base URL: <unset>, Hostname: <request>, Strict HTTPS: false, Path: <request>, Strict BackChannel: false, Admin URL: <unset>, Admin: <request>, Port: -1, Proxied: false
2026-01-29 11:26:35 2026-01-29 08:26:35,806 WARN  [io.quarkus.agroal.runtime.DataSources] (JPA Startup Thread) Datasource <default> enables XA but transaction recovery is not enabled. Please enable transaction recovery by setting quarkus.transaction-manager.enable-recovery=true, otherwise data may be lost if the application is terminated abruptly
2026-01-29 11:26:36 2026-01-29 08:26:36,125 WARN  [org.infinispan.CONFIG] (keycloak-cache-init) ISPN000569: Unable to persist Infinispan internal caches as no global state enabled
2026-01-29 11:26:36 2026-01-29 08:26:36,171 INFO  [org.infinispan.CONTAINER] (keycloak-cache-init) ISPN000556: Starting user marshaller 'org.infinispan.jboss.marshalling.core.JBossUserMarshaller'
2026-01-29 11:26:36 2026-01-29 08:26:36,916 INFO  [org.keycloak.connections.infinispan.DefaultInfinispanConnectionProviderFactory] (main) Node name: node_159991, Site name: null
2026-01-29 11:26:37 2026-01-29 08:26:37,122 INFO  [org.keycloak.broker.provider.AbstractIdentityProviderMapper] (main) Registering class org.keycloak.broker.provider.mappersync.ConfigSyncEventListener
2026-01-29 11:26:37 2026-01-29 08:26:37,651 INFO  [org.keycloak.exportimport.singlefile.SingleFileImportProvider] (main) Full importing from file /opt/keycloak/bin/../data/import/clients.json
2026-01-29 11:26:37 2026-01-29 08:26:37,864 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) ERROR: Failed to start server in (development) mode
2026-01-29 11:26:37 2026-01-29 08:26:37,864 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) ERROR: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "type" (class org.keycloak.representations.idm.ClientRepresentation), not marked as ignorable (43 known properties: "enabled", "clientAuthenticatorType", "redirectUris", "clientId", "authenticationFlowBindingOverrides", "authorizationServicesEnabled", "name", "implicitFlowEnabled", "registeredNodes", "nodeReRegistrationTimeout", "publicClient", "attributes", "protocol", "webOrigins", "protocolMappers", "id", "baseUrl", "surrogateAuthRequired", "adminUrl", "fullScopeAllowed", "frontchannelLogout", "clientTemplate", "origin", "defaultClientScopes", "directGrantsOnly", "rootUrl", "secret", "useTemplateMappers", "notBefore", "useTemplateScope", "standardFlowEnabled", "description", "directAccessGrantsEnabled", "alwaysDisplayInConsole", "useTemplateConfig", "serviceAccountsEnabled", "optionalClientScopes", "consentRequired", "access", "bearerOnly", "registrationAccessToken", "defaultRoles", "authorizationSettings"])
2026-01-29 11:26:37  at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 5, column: 16] (through reference chain: org.keycloak.representations.idm.RealmRepresentation["clients"]->java.util.ArrayList[0]->org.keycloak.representations.idm.ClientRepresentation["type"])
2026-01-29 11:26:37 2026-01-29 08:26:37,864 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) ERROR: Unrecognized field "type" (class org.keycloak.representations.idm.ClientRepresentation), not marked as ignorable (43 known properties: "enabled", "clientAuthenticatorType", "redirectUris", "clientId", "authenticationFlowBindingOverrides", "authorizationServicesEnabled", "name", "implicitFlowEnabled", "registeredNodes", "nodeReRegistrationTimeout", "publicClient", "attributes", "protocol", "webOrigins", "protocolMappers", "id", "baseUrl", "surrogateAuthRequired", "adminUrl", "fullScopeAllowed", "frontchannelLogout", "clientTemplate", "origin", "defaultClientScopes", "directGrantsOnly", "rootUrl", "secret", "useTemplateMappers", "notBefore", "useTemplateScope", "standardFlowEnabled", "description", "directAccessGrantsEnabled", "alwaysDisplayInConsole", "useTemplateConfig", "serviceAccountsEnabled", "optionalClientScopes", "consentRequired", "access", "bearerOnly", "registrationAccessToken", "defaultRoles", "authorizationSettings"])
2026-01-29 11:26:37  at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 5, column: 16] (through reference chain: org.keycloak.representations.idm.RealmRepresentation["clients"]->java.util.ArrayList[0]->org.keycloak.representations.idm.ClientRepresentation["type"])
2026-01-29 11:26:37 2026-01-29 08:26:37,865 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) For more details run the same command passing the '--verbose' option. Also you can use '--help' to see the details about the usage of the particular command.
2026-01-29 11:26:41 2026-01-29 08:26:40,197 INFO  [org.keycloak.quarkus.runtime.hostname.DefaultHostnameProvider] (main) Hostname settings: Base URL: <unset>, Hostname: <request>, Strict HTTPS: false, Path: <request>, Strict BackChannel: false, Admin URL: <unset>, Admin: <request>, Port: -1, Proxied: false
2026-01-29 11:26:41 2026-01-29 08:26:41,357 WARN  [io.quarkus.agroal.runtime.DataSources] (JPA Startup Thread) Datasource <default> enables XA but transaction recovery is not enabled. Please enable transaction recovery by setting quarkus.transaction-manager.enable-recovery=true, otherwise data may be lost if the application is terminated abruptly
2026-01-29 11:26:41 2026-01-29 08:26:41,659 WARN  [org.infinispan.CONFIG] (keycloak-cache-init) ISPN000569: Unable to persist Infinispan internal caches as no global state enabled
2026-01-29 11:26:41 2026-01-29 08:26:41,707 INFO  [org.infinispan.CONTAINER] (keycloak-cache-init) ISPN000556: Starting user marshaller 'org.infinispan.jboss.marshalling.core.JBossUserMarshaller'
2026-01-29 11:26:42 2026-01-29 08:26:42,367 INFO  [org.keycloak.connections.infinispan.DefaultInfinispanConnectionProviderFactory] (main) Node name: node_706467, Site name: null
2026-01-29 11:26:42 2026-01-29 08:26:42,559 INFO  [org.keycloak.broker.provider.AbstractIdentityProviderMapper] (main) Registering class org.keycloak.broker.provider.mappersync.ConfigSyncEventListener
2026-01-29 11:26:43 2026-01-29 08:26:43,032 INFO  [org.keycloak.exportimport.singlefile.SingleFileImportProvider] (main) Full importing from file /opt/keycloak/bin/../data/import/clients.json
2026-01-29 11:26:43 2026-01-29 08:26:43,257 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) ERROR: Failed to start server in (development) mode
2026-01-29 11:26:43 2026-01-29 08:26:43,257 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) ERROR: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "type" (class org.keycloak.representations.idm.ClientRepresentation), not marked as ignorable (43 known properties: "enabled", "clientAuthenticatorType", "redirectUris", "clientId", "authenticationFlowBindingOverrides", "authorizationServicesEnabled", "name", "implicitFlowEnabled", "registeredNodes", "nodeReRegistrationTimeout", "publicClient", "attributes", "protocol", "webOrigins", "protocolMappers", "id", "baseUrl", "surrogateAuthRequired", "adminUrl", "fullScopeAllowed", "frontchannelLogout", "clientTemplate", "origin", "defaultClientScopes", "directGrantsOnly", "rootUrl", "secret", "useTemplateMappers", "notBefore", "useTemplateScope", "standardFlowEnabled", "description", "directAccessGrantsEnabled", "alwaysDisplayInConsole", "useTemplateConfig", "serviceAccountsEnabled", "optionalClientScopes", "consentRequired", "access", "bearerOnly", "registrationAccessToken", "defaultRoles", "authorizationSettings"])
2026-01-29 11:26:43  at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 5, column: 16] (through reference chain: org.keycloak.representations.idm.RealmRepresentation["clients"]->java.util.ArrayList[0]->org.keycloak.representations.idm.ClientRepresentation["type"])
2026-01-29 11:26:43 2026-01-29 08:26:43,257 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) ERROR: Unrecognized field "type" (class org.keycloak.representations.idm.ClientRepresentation), not marked as ignorable (43 known properties: "enabled", "clientAuthenticatorType", "redirectUris", "clientId", "authenticationFlowBindingOverrides", "authorizationServicesEnabled", "name", "implicitFlowEnabled", "registeredNodes", "nodeReRegistrationTimeout", "publicClient", "attributes", "protocol", "webOrigins", "protocolMappers", "id", "baseUrl", "surrogateAuthRequired", "adminUrl", "fullScopeAllowed", "frontchannelLogout", "clientTemplate", "origin", "defaultClientScopes", "directGrantsOnly", "rootUrl", "secret", "useTemplateMappers", "notBefore", "useTemplateScope", "standardFlowEnabled", "description", "directAccessGrantsEnabled", "alwaysDisplayInConsole", "useTemplateConfig", "serviceAccountsEnabled", "optionalClientScopes", "consentRequired", "access", "bearerOnly", "registrationAccessToken", "defaultRoles", "authorizationSettings"])
2026-01-29 11:26:43  at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 5, column: 16] (through reference chain: org.keycloak.representations.idm.RealmRepresentation["clients"]->java.util.ArrayList[0]->org.keycloak.representations.idm.ClientRepresentation["type"])
2026-01-29 11:26:43 2026-01-29 08:26:43,257 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) For more details run the same command passing the '--verbose' option. Also you can use '--help' to see the details about the usage of the particular command.
2026-01-29 11:26:46 2026-01-29 08:26:45,585 INFO  [org.keycloak.quarkus.runtime.hostname.DefaultHostnameProvider] (main) Hostname settings: Base URL: <unset>, Hostname: <request>, Strict HTTPS: false, Path: <request>, Strict BackChannel: false, Admin URL: <unset>, Admin: <request>, Port: -1, Proxied: false
2026-01-29 11:26:46 2026-01-29 08:26:46,533 WARN  [io.quarkus.agroal.runtime.DataSources] (JPA Startup Thread) Datasource <default> enables XA but transaction recovery is not enabled. Please enable transaction recovery by setting quarkus.transaction-manager.enable-recovery=true, otherwise data may be lost if the application is terminated abruptly
2026-01-29 11:26:46 2026-01-29 08:26:46,807 WARN  [org.infinispan.CONFIG] (keycloak-cache-init) ISPN000569: Unable to persist Infinispan internal caches as no global state enabled
2026-01-29 11:26:46 2026-01-29 08:26:46,847 INFO  [org.infinispan.CONTAINER] (keycloak-cache-init) ISPN000556: Starting user marshaller 'org.infinispan.jboss.marshalling.core.JBossUserMarshaller'
2026-01-29 11:26:47 2026-01-29 08:26:47,471 INFO  [org.keycloak.connections.infinispan.DefaultInfinispanConnectionProviderFactory] (main) Node name: node_74606, Site name: null
2026-01-29 11:26:47 2026-01-29 08:26:47,660 INFO  [org.keycloak.broker.provider.AbstractIdentityProviderMapper] (main) Registering class org.keycloak.broker.provider.mappersync.ConfigSyncEventListener
2026-01-29 11:26:48 2026-01-29 08:26:48,150 INFO  [org.keycloak.exportimport.singlefile.SingleFileImportProvider] (main) Full importing from file /opt/keycloak/bin/../data/import/clients.json
2026-01-29 11:26:48 2026-01-29 08:26:48,352 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) ERROR: Failed to start server in (development) mode
2026-01-29 11:26:48 2026-01-29 08:26:48,352 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) ERROR: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "type" (class org.keycloak.representations.idm.ClientRepresentation), not marked as ignorable (43 known properties: "enabled", "clientAuthenticatorType", "redirectUris", "clientId", "authenticationFlowBindingOverrides", "authorizationServicesEnabled", "name", "implicitFlowEnabled", "registeredNodes", "nodeReRegistrationTimeout", "publicClient", "attributes", "protocol", "webOrigins", "protocolMappers", "id", "baseUrl", "surrogateAuthRequired", "adminUrl", "fullScopeAllowed", "frontchannelLogout", "clientTemplate", "origin", "defaultClientScopes", "directGrantsOnly", "rootUrl", "secret", "useTemplateMappers", "notBefore", "useTemplateScope", "standardFlowEnabled", "description", "directAccessGrantsEnabled", "alwaysDisplayInConsole", "useTemplateConfig", "serviceAccountsEnabled", "optionalClientScopes", "consentRequired", "access", "bearerOnly", "registrationAccessToken", "defaultRoles", "authorizationSettings"])
2026-01-29 11:26:48  at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 5, column: 16] (through reference chain: org.keycloak.representations.idm.RealmRepresentation["clients"]->java.util.ArrayList[0]->org.keycloak.representations.idm.ClientRepresentation["type"])
2026-01-29 11:26:48 2026-01-29 08:26:48,352 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) ERROR: Unrecognized field "type" (class org.keycloak.representations.idm.ClientRepresentation), not marked as ignorable (43 known properties: "enabled", "clientAuthenticatorType", "redirectUris", "clientId", "authenticationFlowBindingOverrides", "authorizationServicesEnabled", "name", "implicitFlowEnabled", "registeredNodes", "nodeReRegistrationTimeout", "publicClient", "attributes", "protocol", "webOrigins", "protocolMappers", "id", "baseUrl", "surrogateAuthRequired", "adminUrl", "fullScopeAllowed", "frontchannelLogout", "clientTemplate", "origin", "defaultClientScopes", "directGrantsOnly", "rootUrl", "secret", "useTemplateMappers", "notBefore", "useTemplateScope", "standardFlowEnabled", "description", "directAccessGrantsEnabled", "alwaysDisplayInConsole", "useTemplateConfig", "serviceAccountsEnabled", "optionalClientScopes", "consentRequired", "access", "bearerOnly", "registrationAccessToken", "defaultRoles", "authorizationSettings"])
2026-01-29 11:26:48  at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 5, column: 16] (through reference chain: org.keycloak.representations.idm.RealmRepresentation["clients"]->java.util.ArrayList[0]->org.keycloak.representations.idm.ClientRepresentation["type"])
2026-01-29 11:26:48 2026-01-29 08:26:48,352 ERROR [org.keycloak.quarkus.runtime.cli.ExecutionExceptionHandler] (main) For more details run the same command passing the '--verbose' option. Also you can use '--help' to see the details about the usage of the particular command.
</container-output>

GitHub Copilot: I'll inspect the Keycloak import files to locate the invalid "type" field and confirm the failing file.

Read [](file:///c%3A/Users/PC1/Desktop/Projects/Education/.NET/turkcell-ai/infra/keycloak/clients.json)

Read [](file:///c%3A/Users/PC1/Desktop/Projects/Education/.NET/turkcell-ai/infra/keycloak/turkcell-ai-realm.json)

Created 5 todos

Creating an isolated Keycloak import folder to include only the valid realm file.

Created [](file:///c%3A/Users/PC1/Desktop/Projects/Education/.NET/turkcell-ai/infra/keycloak/import)

Created [](file:///c%3A/Users/PC1/Desktop/Projects/Education/.NET/turkcell-ai/infra/keycloak/import/turkcell-ai-realm.json)

Next, I’ll update docker-compose to mount only the new import folder.

Using "Apply Patch"


```

```


Starting: *Provide restart and verify steps* (5/5)

Completed: *Provide restart and verify steps* (5/5)

Thanks — I see why Keycloak is crash-looping. Plan:
- Isolate valid realm import and avoid the invalid file.
- Update docker-compose to mount only the correct import.
- Provide restart and verification steps.

What I changed
- Root cause: Keycloak is importing clients.json, which uses a non-Keycloak schema (contains client “type”, “flows”). Keycloak 24 expects `ClientRepresentation` fields like `publicClient`, `secret`, `clientAuthenticatorType`, etc., and fails on `type`, causing CrashLoopBackOff.
- Fix implemented:
  - Added turkcell-ai-realm.json with a valid realm export (already present in your repo as turkcell-ai-realm.json, duplicated into the new import folder).
  - Updated docker-compose.yml to mount only the new import directory, so Keycloak ignores the invalid clients.json.

How to apply/run
- Restart just Keycloak (recommended):
```bash
docker compose pull keycloak
docker compose up -d keycloak
docker logs -f tai-keycloak
```
- Verify:
  - Open http://localhost:8080
  - Login to Admin Console with `admin` / `admin`
  - Ensure the `turkcell-ai` realm exists and clients `gateway`, `orderservice`, `productservice` are present.

Notes and options
- Why this works: `start-dev --import-realm` imports all files under `/opt/keycloak/data/import`. Previously it saw clients.json first and failed. Now it sees only the valid realm file.
- Keep clients.json as a design artifact if you want, but it must not be in the import path. If you prefer, I can remove or convert it to valid `ClientRepresentation` entries inside the realm file.
- If you need to customize clients, edit the realm file fields:
  - Public vs confidential: use `publicClient: true` (public) or `false` + `clientAuthenticatorType: "client-secret"` and `secret` (confidential).
  - Flows: `standardFlowEnabled` (authorization code), `directAccessGrantsEnabled` (password), `serviceAccountsEnabled` (client_credentials).

Want me to also convert clients.json into a valid Keycloak 24 realm fragment and merge it into the realm file?

Made changes.